<!DOCTYPE html>
<html>
<head>
<title>Login</title>
<link rel="stylesheet" type="text/css" href="Styles/style.css">
<!-- CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@10">
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">




</head>
  <body>
    <div class="video-background">
      <video autoplay loop muted>
        <source src="Assets/oo.mp4" type="video/mp4">
        <!-- You can add additional source tags for different video formats -->
        Your browser does not support the video tag.
      </video>
<img src="Assets/logo.png">
    <form id="Loginform">
  <!-- Main div code -->
  <div id="main">
  <div class="h-tag">
  <h2>Sign In</h2>
  </div>
  <!-- create account div -->
  <div class="login">
  <table align="center" border="0">
  <tr>
  <td align="center"><h4>Enter Email ID :</h4></td>
  <td><input type="text" placeholder="Enter Email ID here" name="email" id="email" class="tb" /></td>
  </tr>
  <tr>	  
  <td align="center"><h4>Enter Password :</h4></td>
  <td><input type="password" name="password" placeholder="Enter Password here" id="password" class="tb" /></td>
  </tr>
  <tr>
  <td></td>
  <td>
  <input type="submit" value="Sign In" id="signin"></td>
  </tr>
  <tr>
  <td>
    <input type="button" value="Haven't Registered Yet? Go and Register." id="goregister"></td></tr>
</table>
  </div>
  </div>
</form>
</div>

 <script>
  function submitForm(event) {
    event.preventDefault(); // Prevent the default form submission
  
    var formData = new FormData(document.getElementById("Loginform"));
    var jsonObject = {
      email: formData.get('email'),
      password: formData.get('password')
    };
    var fullJSON = JSON.stringify(jsonObject); // Convert the object to JSON format
  
    fetch('http://localhost:3000/api/login/login', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: fullJSON
    })
    .then(response => {
      if (response.ok) {
        console.log('Login successfully!');
         Swal.fire({
          icon: 'success',
          title: 'Login Successful',
          text: 'Welcome to Telemetry for RC Car.'
        });
       setTimeout(() => {
        window.location.replace('dash.html'); // Redirect to welcome.html after 3 seconds
      }, 2000);
      } else {
        console.log('Login failed!');
        // Show a custom styled modal for incorrect credentials
            Swal.fire({
          icon: 'error',
          title: 'Login Failed',
          text: 'Credentials are incorrect.'
        });
      }
    })
    .catch(error => {
      console.error('Error:', error);
    });
  }
  var button = document.getElementById('goregister');

// Add a click event listener
button.addEventListener('click', function() {
  // Redirect to a new webpage when the button is clicked
  window.location.href = 'reg.html'; // Replace with your desired URL
});
  // Event listener for form submission
  document.getElementById("Loginform").addEventListener("submit", submitForm);

</script>


<!-- JS -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>

  </body>
  </html>
  git 
