<!DOCTYPE html>
<head>
  <title>Form Submission</title>
</head>
<body>

  <form id="myForm">
    <label for="firstName">First Name:</label><br>
    <input type="text" id="firstName" name="firstName"><br>
    
    <label for="lastName">Last Name:</label><br>
    <input type="text" id="lastName" name="lastName"><br>

    <label for="email">Email:</label><br>
    <input type="text" id="email" name="email"><br>
    
    <label for="password">Password:</label><br>
    <input type="password" id="password" name="password"><br><br>
    
    <input type="submit" value="submit">
  </form>

  <script>
    // Function to handle form submission
    function submitForm(event) {
      event.preventDefault(); // Prevent the default form submission
  
      var formData = new FormData(document.getElementById("myForm"));
     
      var jsonObject = {
    firstName: formData.get('firstName'),
    lastName: formData.get('lastName'),
    email: formData.get('email'),
    password: formData.get('password')
  };
  var fullJSON = JSON.stringify(jsonObject, null, 2); // Convert the object to full JSON format
  console.log(fullJSON); // Output the full JSON string to console


      fetch('http://localhost:3000/api/register/register', {
        method: 'POST',
        headers: {
    'Content-Type': 'application/json', 'Content-Length': `${fullJSON.length}`},
        body: fullJSON
      })
      .then(response => {
        if (response.ok) {
          console.log('Form submitted successfully!');
          // You can perform other actions here after successful submission
        } else {
          console.log('Form submission failed!');
        }
      })
      .catch(error => {
        console.error('Error:', error);
      });
    }
  
    // Event listener for form submission
    document.getElementById("myForm").addEventListener("submit", submitForm);
  </script>

</body>
</html>
