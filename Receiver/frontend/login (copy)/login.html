<!DOCTYPE html>
<html>
<head>
<title>Login</title>
<link rel="stylesheet" type="text/css" href="style.css">
</head>
  <body>
    <form id="Loginform">
  <!-- Main div code -->
  <div id="main">
  <div class="h-tag">
  <h2 id="signin">Enter your Credentials </h2>
  </div>
  <!-- create account div -->
  <div class="login">
  <table cellspacing="2" align="center" cellpadding="8">
  <tr>
  <td align="center">Enter Email ID :</td>
  <td><input type="text" placeholder="Enter Email ID here" name="email" id="email" class="tb" /></td>
  </tr>
  <tr>	  
  <td align="center">Enter Password :</td>
  <td><input type="password" name="password" placeholder="Enter Password here" id="password" class="tb" /></td>
  </tr>
  <tr>
  <td></td>
  <td>
  <input type="submit" value="Sign In" class="btn"></td>
  </tr>	  
  </table>
  <p align="center"><a href="reg.html">Don't have an account?</a></p>

  </div>
  </div>
</form>
<script>
  function submitForm(event) {
      event.preventDefault(); // Prevent the default form submission
  
      var formData = new FormData(document.getElementById("Loginform"));
     
      var jsonObject = {
    email: formData.get('email'),
    password: formData.get('password')
  };
  var fullJSON = JSON.stringify(jsonObject, null, 2); // Convert the object to full JSON format
  console.log(fullJSON); // Output the full JSON string to console


      fetch('http://localhost:3000/api/login/login', {
        method: 'POST',
        headers: {
    'Content-Type': 'application/json', 'Content-Length': `${fullJSON.length}`},
        body: fullJSON
      })
      .then(response => {
        if (response.ok) {
          console.log('Login successfully!');
          // You can perform other actions here after successful submission
        } else {
          console.log('Login failed!');
        }
      })
      .catch(error => {
        console.error('Error:', error);
      });
    }
  
    // Event listener for form submission
    document.getElementById("Loginform").addEventListener("submit", submitForm);</script>


  </body>
  </html>